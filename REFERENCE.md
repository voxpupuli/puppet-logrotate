# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`logrotate`](#logrotate): Install and configure logrotate

#### Private Classes

* `logrotate::config`: Configure logrotate
* `logrotate::defaults`: Apply module defaults
* `logrotate::hourly`: Configure a host for hourly logrotate jobs.
* `logrotate::install`: Make sure logrotate is installed
* `logrotate::params`: Logrotate module default configuration settings/Params class
* `logrotate::rules`: Apply user-defined rules

### Defined types

* [`logrotate::conf`](#logrotate--conf): Install and configure logrotate defaults file (usually /etc/logrotate.conf)
* [`logrotate::cron`](#logrotate--cron): Manage logrotate cron entries
* [`logrotate::rule`](#logrotate--rule): Configure logrotate to rotate a logfile.

### Data types

* [`Logrotate::Commands`](#Logrotate--Commands): Data type for commands
* [`Logrotate::Every`](#Logrotate--Every): Valid configuration values for rotation (every hour/day/week/month etc.)
* [`Logrotate::Path`](#Logrotate--Path): File path valid in logrotate config files
* [`Logrotate::Size`](#Logrotate--Size): Filesize valid in logrotate config files

## Classes

### <a name="logrotate"></a>`logrotate`

Install and configure logrotate

#### Parameters

The following parameters are available in the `logrotate` class:

* [`ensure`](#-logrotate--ensure)
* [`manage_cron_daily`](#-logrotate--manage_cron_daily)
* [`manage_cron_hourly`](#-logrotate--manage_cron_hourly)
* [`ensure_cron_daily`](#-logrotate--ensure_cron_daily)
* [`ensure_cron_hourly`](#-logrotate--ensure_cron_hourly)
* [`manage_systemd_timer`](#-logrotate--manage_systemd_timer)
* [`ensure_systemd_timer`](#-logrotate--ensure_systemd_timer)
* [`ensure_systemd_timer_hourly`](#-logrotate--ensure_systemd_timer_hourly)
* [`create_base_rules`](#-logrotate--create_base_rules)
* [`purge_configdir`](#-logrotate--purge_configdir)
* [`package`](#-logrotate--package)
* [`rules`](#-logrotate--rules)
* [`config`](#-logrotate--config)
* [`cron_daily_hour`](#-logrotate--cron_daily_hour)
* [`cron_daily_minute`](#-logrotate--cron_daily_minute)
* [`cron_hourly_minute`](#-logrotate--cron_hourly_minute)
* [`cron_file_mode`](#-logrotate--cron_file_mode)
* [`configdir`](#-logrotate--configdir)
* [`logrotate_bin`](#-logrotate--logrotate_bin)
* [`logrotate_conf`](#-logrotate--logrotate_conf)
* [`logrotate_conf_mode`](#-logrotate--logrotate_conf_mode)
* [`manage_package`](#-logrotate--manage_package)
* [`rules_configdir`](#-logrotate--rules_configdir)
* [`rules_configdir_mode`](#-logrotate--rules_configdir_mode)
* [`root_user`](#-logrotate--root_user)
* [`root_group`](#-logrotate--root_group)
* [`logrotate_args`](#-logrotate--logrotate_args)
* [`cron_always_output`](#-logrotate--cron_always_output)

##### <a name="-logrotate--ensure"></a>`ensure`

Data type: `String`

Desired installation state for the logrotate package

Default value: `present`

##### <a name="-logrotate--manage_cron_daily"></a>`manage_cron_daily`

Data type: `Boolean`

Manage logrotate daily cron file

Default value: `true`

##### <a name="-logrotate--manage_cron_hourly"></a>`manage_cron_hourly`

Data type: `Boolean`

Manage logrotate hourly cron file

Default value: `true`

##### <a name="-logrotate--ensure_cron_daily"></a>`ensure_cron_daily`

Data type: `Enum[present,absent]`

Ensure logrotate daily cron file is present/absent

Default value: `'present'`

##### <a name="-logrotate--ensure_cron_hourly"></a>`ensure_cron_hourly`

Data type: `Enum[present,absent]`

Ensure logrotate hourly cron file is present/absent

Default value: `'present'`

##### <a name="-logrotate--manage_systemd_timer"></a>`manage_systemd_timer`

Data type: `Boolean`

Manage logrotate systemd timer

Default value: `false`

##### <a name="-logrotate--ensure_systemd_timer"></a>`ensure_systemd_timer`

Data type: `Enum[present,absent]`

Ensure logrotate systemd timer is present/absent

Default value: `'absent'`

##### <a name="-logrotate--ensure_systemd_timer_hourly"></a>`ensure_systemd_timer_hourly`

Data type: `Enum[present,absent]`

Ensure logrotate systemd hourly timer is present/absent

Default value: `'absent'`

##### <a name="-logrotate--create_base_rules"></a>`create_base_rules`

Data type: `Boolean`

Create base rules (for example btmp, wtmp)

Default value: `true`

##### <a name="-logrotate--purge_configdir"></a>`purge_configdir`

Data type: `Boolean`

Purge logrotate files not managed by the module.

Default value: `false`

##### <a name="-logrotate--package"></a>`package`

Data type: `String`

Logrotate package name.

Default value: `'logrotate'`

##### <a name="-logrotate--rules"></a>`rules`

Data type: `Hash`

Hash of logrotate logrotate::rule rules

Default value: `{}`

##### <a name="-logrotate--config"></a>`config`

Data type: `Optional[Hash]`

Hash of default config values for logrotate

Default value: `undef`

##### <a name="-logrotate--cron_daily_hour"></a>`cron_daily_hour`

Data type: `Integer[0,23]`

Hour at which daily logrotate cron is executed

Default value: `$logrotate::params::cron_daily_hour`

##### <a name="-logrotate--cron_daily_minute"></a>`cron_daily_minute`

Data type: `Integer[0,59]`

Minute at which daily logrotate cron is executed

Default value: `$logrotate::params::cron_daily_minute`

##### <a name="-logrotate--cron_hourly_minute"></a>`cron_hourly_minute`

Data type: `Integer[0,59]`

Minute at which hourly logrotate cron is executed

Default value: `$logrotate::params::cron_hourly_minute`

##### <a name="-logrotate--cron_file_mode"></a>`cron_file_mode`

Data type: `Stdlib::Filemode`

Cron file permissions in numeric mode

Default value: `$logrotate::params::cron_file_mode`

##### <a name="-logrotate--configdir"></a>`configdir`

Data type: `String`

Path of config dir

Default value: `$logrotate::params::configdir`

##### <a name="-logrotate--logrotate_bin"></a>`logrotate_bin`

Data type: `String`

Path of logrotate binary

Default value: `$logrotate::params::logrotate_bin`

##### <a name="-logrotate--logrotate_conf"></a>`logrotate_conf`

Data type: `String`

Path of logrotate.conf

Default value: `$logrotate::params::logrotate_conf`

##### <a name="-logrotate--logrotate_conf_mode"></a>`logrotate_conf_mode`

Data type: `Stdlib::Filemode`

Path of `logrotate.conf`

Default value: `$logrotate::params::logrotate_conf_mode`

##### <a name="-logrotate--manage_package"></a>`manage_package`

Data type: `Boolean`

Whether to manage logrtotate package

Default value: `$logrotate::params::manage_package`

##### <a name="-logrotate--rules_configdir"></a>`rules_configdir`

Data type: `String`

Path in which logrotate rules are created.

Default value: `$logrotate::params::rules_configdir`

##### <a name="-logrotate--rules_configdir_mode"></a>`rules_configdir_mode`

Data type: `Stdlib::Filemode`

Logrotate rules folder permissions in numeric mode.

Default value: `$logrotate::params::rules_configdir_mode`

##### <a name="-logrotate--root_user"></a>`root_user`

Data type: `String`

Name of root user.

Default value: `$logrotate::params::root_user`

##### <a name="-logrotate--root_group"></a>`root_group`

Data type: `String`

Name of root group.

Default value: `$logrotate::params::root_group`

##### <a name="-logrotate--logrotate_args"></a>`logrotate_args`

Data type: `Array[String[1]]`

Arguments passed to logrotate.

Default value: `[]`

##### <a name="-logrotate--cron_always_output"></a>`cron_always_output`

Data type: `Boolean`

Do not discard cron output when there is no error.

Default value: `false`

## Defined types

### <a name="logrotate--conf"></a>`logrotate::conf`

Install and configure logrotate defaults file (usually /etc/logrotate.conf)

#### Examples

##### Configure `/etc/logrotate.conf` with defaults + configure shred

```puppet
logrotate::conf {
   shred => true,
 }
```

##### Configure `/etc/logrotate.conf` to use zstd with non-default level

```puppet
logrotate::conf {
  compress        => true,
  compresscmd     => '/usr/bin/zstd',
  compressext     => '.zst',
  compressoptions => '--compress -19',
  uncompresscmd   => '/usr/bin/unzstd',
}
```

#### Parameters

The following parameters are available in the `logrotate::conf` defined type:

* [`path`](#-logrotate--conf--path)
* [`ensure`](#-logrotate--conf--ensure)
* [`compress`](#-logrotate--conf--compress)
* [`compresscmd`](#-logrotate--conf--compresscmd)
* [`compressext`](#-logrotate--conf--compressext)
* [`compressoptions`](#-logrotate--conf--compressoptions)
* [`copy`](#-logrotate--conf--copy)
* [`copytruncate`](#-logrotate--conf--copytruncate)
* [`create`](#-logrotate--conf--create)
* [`create_mode`](#-logrotate--conf--create_mode)
* [`create_owner`](#-logrotate--conf--create_owner)
* [`create_group`](#-logrotate--conf--create_group)
* [`dateext`](#-logrotate--conf--dateext)
* [`dateformat`](#-logrotate--conf--dateformat)
* [`dateyesterday`](#-logrotate--conf--dateyesterday)
* [`delaycompress`](#-logrotate--conf--delaycompress)
* [`extension`](#-logrotate--conf--extension)
* [`ifempty`](#-logrotate--conf--ifempty)
* [`mail`](#-logrotate--conf--mail)
* [`mail_when`](#-logrotate--conf--mail_when)
* [`maxage`](#-logrotate--conf--maxage)
* [`minsize`](#-logrotate--conf--minsize)
* [`maxsize`](#-logrotate--conf--maxsize)
* [`missingok`](#-logrotate--conf--missingok)
* [`olddir`](#-logrotate--conf--olddir)
* [`postrotate`](#-logrotate--conf--postrotate)
* [`prerotate`](#-logrotate--conf--prerotate)
* [`firstaction`](#-logrotate--conf--firstaction)
* [`lastaction`](#-logrotate--conf--lastaction)
* [`rotate`](#-logrotate--conf--rotate)
* [`rotate_every`](#-logrotate--conf--rotate_every)
* [`size`](#-logrotate--conf--size)
* [`sharedscripts`](#-logrotate--conf--sharedscripts)
* [`shred`](#-logrotate--conf--shred)
* [`shredcycles`](#-logrotate--conf--shredcycles)
* [`start`](#-logrotate--conf--start)
* [`su`](#-logrotate--conf--su)
* [`su_user`](#-logrotate--conf--su_user)
* [`su_group`](#-logrotate--conf--su_group)
* [`uncompresscmd`](#-logrotate--conf--uncompresscmd)
* [`createolddir`](#-logrotate--conf--createolddir)
* [`createolddir_mode`](#-logrotate--conf--createolddir_mode)
* [`createolddir_owner`](#-logrotate--conf--createolddir_owner)
* [`createolddir_group`](#-logrotate--conf--createolddir_group)

##### <a name="-logrotate--conf--path"></a>`path`

Data type: `Stdlib::Unixpath`

Path of the logrotate.conf file to manage.

Default value: `$name`

##### <a name="-logrotate--conf--ensure"></a>`ensure`

Data type: `Enum['absent','present']`

Desired state for the logrotate.conf file.

Default value: `'present'`

##### <a name="-logrotate--conf--compress"></a>`compress`

Data type: `Optional[Boolean]`

A Boolean value specifying whether the rotated logs should be compressed.

Default value: `undef`

##### <a name="-logrotate--conf--compresscmd"></a>`compresscmd`

Data type: `Optional[String]`

The command String that should be executed to compress the rotated logs.

Default value: `undef`

##### <a name="-logrotate--conf--compressext"></a>`compressext`

Data type: `Optional[String]`

The extention String to be appended to the rotated log files after they have
been compressed.

Default value: `undef`

##### <a name="-logrotate--conf--compressoptions"></a>`compressoptions`

Data type: `Optional[String]`

A String of command line options to be passed to the compression program
specified in `compresscmd`.

Default value: `undef`

##### <a name="-logrotate--conf--copy"></a>`copy`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should just take a copy of the log
files and not touch the original.

Default value: `undef`

##### <a name="-logrotate--conf--copytruncate"></a>`copytruncate`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should truncate the original log file
after taking a copy.

Default value: `undef`

##### <a name="-logrotate--conf--create"></a>`create`

Data type: `Boolean`

A Boolean specifying whether logrotate should create new log files
immediately after rotation.

Default value: `true`

##### <a name="-logrotate--conf--create_mode"></a>`create_mode`

Data type: `Optional[String]`

An octal mode String logrotate should apply to the newly created log files
if create => true.

Default value: `undef`

##### <a name="-logrotate--conf--create_owner"></a>`create_owner`

Data type: `Optional[String]`

A username String that logrotate should set the owner of the newly created
log files to if create => true.

Default value: `undef`

##### <a name="-logrotate--conf--create_group"></a>`create_group`

Data type: `Optional[String]`

A String group name that logrotate should apply to the newly created log
files if create => true.

Default value: `undef`

##### <a name="-logrotate--conf--dateext"></a>`dateext`

Data type: `Optional[Boolean]`

A Boolean specifying whether rotated log files should be archived by adding
a date extension rather just a number.

Default value: `undef`

##### <a name="-logrotate--conf--dateformat"></a>`dateformat`

Data type: `Optional[String]`

The format String to be used for `dateext` . Valid specifiers are '%Y',
'%m', '%d' and '%s'.

Default value: `undef`

##### <a name="-logrotate--conf--dateyesterday"></a>`dateyesterday`

Data type: `Optional[Boolean]`

A Boolean specifying whether to use yesterday's date instead of today's date
to create the `dateext` extension.

Default value: `undef`

##### <a name="-logrotate--conf--delaycompress"></a>`delaycompress`

Data type: `Optional[Boolean]`

A Boolean specifying whether compression of the rotated log file should be
delayed until the next logrotate run.

Default value: `undef`

##### <a name="-logrotate--conf--extension"></a>`extension`

Data type: `Optional[String]`

Log files with this extension String are allowed to keep it after rotation.

Default value: `undef`

##### <a name="-logrotate--conf--ifempty"></a>`ifempty`

Data type: `Optional[Boolean]`

A Boolean specifying whether the log file should be rotated even if it is
empty.

Default value: `undef`

##### <a name="-logrotate--conf--mail"></a>`mail`

Data type: `Optional[Variant[String,Boolean]]`

The email address String that logs that are about to be rotated out of
existence are emailed to.

Default value: `undef`

##### <a name="-logrotate--conf--mail_when"></a>`mail_when`

Data type: `Optional[Enum['mailfirst', 'maillast']]`

When mail is configured, enable mailfirst (email the just rotated file
rather than the about to expire file) and/or maillast (email the about to
expire file rather than the just rotated file) behaviours.

Default value: `undef`

##### <a name="-logrotate--conf--maxage"></a>`maxage`

Data type: `Optional[Integer]`

The Integer maximum number of days that a rotated log file can stay on the
system.

Default value: `undef`

##### <a name="-logrotate--conf--minsize"></a>`minsize`

Data type: `Optional[Logrotate::Size]`

The String minimum size a log file must be to be rotated, but not before the
scheduled rotation time. The default units are bytes, append k, M or G for
kilobytes, megabytes and gigabytes respectively.

Default value: `undef`

##### <a name="-logrotate--conf--maxsize"></a>`maxsize`

Data type: `Optional[Logrotate::Size]`

The String maximum size a log file may be to be rotated; When maxsize is
used, both the size and timestamp of a log file are considered for rotation.
The default units are bytes, append k, M or G for kilobytes, megabytes and
gigabytes respectively.

Default value: `undef`

##### <a name="-logrotate--conf--missingok"></a>`missingok`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should ignore missing log files or
issue an error.

Default value: `undef`

##### <a name="-logrotate--conf--olddir"></a>`olddir`

Data type: `Optional[Variant[Boolean,String]]`

A String path to a directory that rotated logs should be moved to.

Default value: `undef`

##### <a name="-logrotate--conf--postrotate"></a>`postrotate`

Data type: `Optional[String]`

A command String or an Array of Strings that should be executed by /bin/sh
after the log file is rotated optional).

Default value: `undef`

##### <a name="-logrotate--conf--prerotate"></a>`prerotate`

Data type: `Optional[String]`

A command String or an Array of Strings that should be executed by /bin/sh
before the log file is rotated and only if it will be rotated.

Default value: `undef`

##### <a name="-logrotate--conf--firstaction"></a>`firstaction`

Data type: `Optional[String]`

A command String or an Array of Strings that should be executed by /bin/sh
once before all log files that match the wildcard pattern are rotated.

Default value: `undef`

##### <a name="-logrotate--conf--lastaction"></a>`lastaction`

Data type: `Optional[String]`

A command String or an Array of Strings that should be executed by /bin/sh
once after all the log files that match the wildcard pattern are rotated.

Default value: `undef`

##### <a name="-logrotate--conf--rotate"></a>`rotate`

Data type: `Integer`

The Integer number of rotated log files to keep on disk.

Default value: `4`

##### <a name="-logrotate--conf--rotate_every"></a>`rotate_every`

Data type: `Logrotate::Every`

How often the log files should be rotated as a String. Valid values are
'day', 'week', 'month' and 'year'.

Default value: `'weekly'`

##### <a name="-logrotate--conf--size"></a>`size`

Data type: `Optional[Logrotate::Size]`

The String size a log file has to reach before it will be rotated. The
default units are bytes, append k, M or G for kilobytes, megabytes or
gigabytes respectively.

Default value: `undef`

##### <a name="-logrotate--conf--sharedscripts"></a>`sharedscripts`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should run the postrotate and
prerotate scripts for each matching file or just once.

Default value: `undef`

##### <a name="-logrotate--conf--shred"></a>`shred`

Data type: `Optional[Boolean]`

A Boolean specifying whether logs should be deleted with shred instead of
unlink.

Default value: `undef`

##### <a name="-logrotate--conf--shredcycles"></a>`shredcycles`

Data type: `Optional[Integer]`

The Integer number of times shred should overwrite log files before
unlinking them.

Default value: `undef`

##### <a name="-logrotate--conf--start"></a>`start`

Data type: `Optional[Integer]`

The Integer number to be used as the base for the extensions appended to the
rotated log files.

Default value: `undef`

##### <a name="-logrotate--conf--su"></a>`su`

Data type: `Boolean`

A Boolean specifying whether logrotate should rotate under the specific
su_user and su_group instead of the default. First available in logrotate
3.8.0.

Default value: `false`

##### <a name="-logrotate--conf--su_user"></a>`su_user`

Data type: `String`

A String username that logrotate should use to rotate a log file set instead
of using the default if su => true.

Default value: `'root'`

##### <a name="-logrotate--conf--su_group"></a>`su_group`

Data type: `String`

A String group name that logrotate should use to rotate a log file set
instead of using the default if su => true.

Default value: `'root'`

##### <a name="-logrotate--conf--uncompresscmd"></a>`uncompresscmd`

Data type: `Optional[String]`

The String command to be used to uncompress log files.

Default value: `undef`

##### <a name="-logrotate--conf--createolddir"></a>`createolddir`

Data type: `Optional[Boolean]`



Default value: `undef`

##### <a name="-logrotate--conf--createolddir_mode"></a>`createolddir_mode`

Data type: `Optional[String]`



Default value: `undef`

##### <a name="-logrotate--conf--createolddir_owner"></a>`createolddir_owner`

Data type: `Optional[String]`



Default value: `undef`

##### <a name="-logrotate--conf--createolddir_group"></a>`createolddir_group`

Data type: `Optional[String]`



Default value: `undef`

### <a name="logrotate--cron"></a>`logrotate::cron`

Manage logrotate cron entries

#### Parameters

The following parameters are available in the `logrotate::cron` defined type:

* [`ensure`](#-logrotate--cron--ensure)

##### <a name="-logrotate--cron--ensure"></a>`ensure`

Data type: `Any`



Default value: `'present'`

### <a name="logrotate--rule"></a>`logrotate::rule`

Configure logrotate to rotate a logfile.

#### Examples

##### Rotate /var/log/syslog daily and keep 7 days worth of compressed logs.

```puppet
logrotate::rule { 'messages':
  path         => '/var/log/messages',
  copytruncate => true,
  missingok    => true,
  rotate_every => 'day',
  rotate       => 7,
  compress     => true,
  ifempty      => true,
}
```

##### Rotate /var/log/nginx/access_log weekly and keep 3 weeks of logs

```puppet
logrotate::rule { 'nginx_access_log':
  path         => '/var/log/nginx/access_log',
  missingok    => true,
  rotate_every => 'week',
  rotate       => 3,
  postrotate   => '/etc/init.d/nginx restart',
}
```

#### Parameters

The following parameters are available in the `logrotate::rule` defined type:

* [`rulename`](#-logrotate--rule--rulename)
* [`path`](#-logrotate--rule--path)
* [`ensure`](#-logrotate--rule--ensure)
* [`compress`](#-logrotate--rule--compress)
* [`compresscmd`](#-logrotate--rule--compresscmd)
* [`compressext`](#-logrotate--rule--compressext)
* [`compressoptions`](#-logrotate--rule--compressoptions)
* [`copy`](#-logrotate--rule--copy)
* [`copytruncate`](#-logrotate--rule--copytruncate)
* [`create`](#-logrotate--rule--create)
* [`create_mode`](#-logrotate--rule--create_mode)
* [`create_owner`](#-logrotate--rule--create_owner)
* [`create_group`](#-logrotate--rule--create_group)
* [`dateext`](#-logrotate--rule--dateext)
* [`dateformat`](#-logrotate--rule--dateformat)
* [`dateyesterday`](#-logrotate--rule--dateyesterday)
* [`delaycompress`](#-logrotate--rule--delaycompress)
* [`extension`](#-logrotate--rule--extension)
* [`ifempty`](#-logrotate--rule--ifempty)
* [`mail`](#-logrotate--rule--mail)
* [`mail_when`](#-logrotate--rule--mail_when)
* [`maxage`](#-logrotate--rule--maxage)
* [`minsize`](#-logrotate--rule--minsize)
* [`maxsize`](#-logrotate--rule--maxsize)
* [`missingok`](#-logrotate--rule--missingok)
* [`olddir`](#-logrotate--rule--olddir)
* [`postrotate`](#-logrotate--rule--postrotate)
* [`prerotate`](#-logrotate--rule--prerotate)
* [`firstaction`](#-logrotate--rule--firstaction)
* [`lastaction`](#-logrotate--rule--lastaction)
* [`rotate`](#-logrotate--rule--rotate)
* [`rotate_every`](#-logrotate--rule--rotate_every)
* [`size`](#-logrotate--rule--size)
* [`sharedscripts`](#-logrotate--rule--sharedscripts)
* [`shred`](#-logrotate--rule--shred)
* [`shredcycles`](#-logrotate--rule--shredcycles)
* [`start`](#-logrotate--rule--start)
* [`su`](#-logrotate--rule--su)
* [`su_user`](#-logrotate--rule--su_user)
* [`su_group`](#-logrotate--rule--su_group)
* [`uncompresscmd`](#-logrotate--rule--uncompresscmd)
* [`custom_cfg`](#-logrotate--rule--custom_cfg)
* [`createolddir`](#-logrotate--rule--createolddir)
* [`createolddir_mode`](#-logrotate--rule--createolddir_mode)
* [`createolddir_owner`](#-logrotate--rule--createolddir_owner)
* [`createolddir_group`](#-logrotate--rule--createolddir_group)

##### <a name="-logrotate--rule--rulename"></a>`rulename`

Data type: `Pattern[/^[a-zA-Z0-9\._-]+$/]`

The String name of the rule.

Default value: `$title`

##### <a name="-logrotate--rule--path"></a>`path`

Data type: `Optional[Logrotate::Path]`

The path String to the logfile(s) to be rotated.

Default value: `undef`

##### <a name="-logrotate--rule--ensure"></a>`ensure`

Data type: `Enum['present','absent']`

The desired state of the logrotate rule as a String. Valid values are
'absent' and 'present' (default: 'present').

Default value: `'present'`

##### <a name="-logrotate--rule--compress"></a>`compress`

Data type: `Optional[Boolean]`

A Boolean value specifying whether the rotated logs should be compressed.

Default value: `undef`

##### <a name="-logrotate--rule--compresscmd"></a>`compresscmd`

Data type: `Optional[String]`

The command String that should be executed to compress the rotated logs.

Default value: `undef`

##### <a name="-logrotate--rule--compressext"></a>`compressext`

Data type: `Optional[String]`

The extention String to be appended to the rotated log files after they have
been compressed.

Default value: `undef`

##### <a name="-logrotate--rule--compressoptions"></a>`compressoptions`

Data type: `Optional[String]`

A String of command line options to be passed to the compression program
specified in `compresscmd`.

Default value: `undef`

##### <a name="-logrotate--rule--copy"></a>`copy`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should just take a copy of the log
file and not touch the original.

Default value: `undef`

##### <a name="-logrotate--rule--copytruncate"></a>`copytruncate`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should truncate the original log file
after taking a copy.

Default value: `undef`

##### <a name="-logrotate--rule--create"></a>`create`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should create a new log file
immediately after rotation.

Default value: `undef`

##### <a name="-logrotate--rule--create_mode"></a>`create_mode`

Data type: `Optional[String]`

An octal mode String logrotate should apply to the newly created log file if
create => true.

Default value: `undef`

##### <a name="-logrotate--rule--create_owner"></a>`create_owner`

Data type: `Optional[String]`

A username String that logrotate should set the owner of the newly created
log file to if create => true.

Default value: `undef`

##### <a name="-logrotate--rule--create_group"></a>`create_group`

Data type: `Optional[String]`

A String group name that logrotate should apply to the newly created log
file if create => true.

Default value: `undef`

##### <a name="-logrotate--rule--dateext"></a>`dateext`

Data type: `Optional[Boolean]`

A Boolean specifying whether rotated log files should be archived by adding
a date extension rather just a number.

Default value: `undef`

##### <a name="-logrotate--rule--dateformat"></a>`dateformat`

Data type: `Optional[String]`

The format String to be used for `dateext` . Valid specifiers are '%Y',
'%m', '%d' and '%s'.

Default value: `undef`

##### <a name="-logrotate--rule--dateyesterday"></a>`dateyesterday`

Data type: `Optional[Boolean]`

A Boolean specifying whether to use yesterday's date instead of today's date
to create the `dateext` extension.

Default value: `undef`

##### <a name="-logrotate--rule--delaycompress"></a>`delaycompress`

Data type: `Optional[Boolean]`

A Boolean specifying whether compression of the rotated log file should be
delayed until the next logrotate run.

Default value: `undef`

##### <a name="-logrotate--rule--extension"></a>`extension`

Data type: `Optional[String]`

Log files with this extension String are allowed to keep it after rotation.

Default value: `undef`

##### <a name="-logrotate--rule--ifempty"></a>`ifempty`

Data type: `Optional[Boolean]`

A Boolean specifying whether the log file should be rotated even if it is
empty.

Default value: `undef`

##### <a name="-logrotate--rule--mail"></a>`mail`

Data type: `Optional[Variant[String,Boolean]]`

The email address String that logs that are about to be rotated out of
existence are emailed to.

Default value: `undef`

##### <a name="-logrotate--rule--mail_when"></a>`mail_when`

Data type: `Optional[Enum['mailfirst','maillast']]`

When mail is configured, enable mailfirst (email the just rotated file
rather than the about to expire file) and/or maillast (email the about to
expire file rather than the just rotated file) behaviours.

Default value: `undef`

##### <a name="-logrotate--rule--maxage"></a>`maxage`

Data type: `Optional[Integer]`

The Integer maximum number of days that a rotated log file can stay on the
system.

Default value: `undef`

##### <a name="-logrotate--rule--minsize"></a>`minsize`

Data type: `Optional[Logrotate::Size]`

The String minimum size a log file must be to be rotated, but not before the
scheduled rotation time. The default units are bytes, append k, M or G for
kilobytes, megabytes and gigabytes respectively.

Default value: `undef`

##### <a name="-logrotate--rule--maxsize"></a>`maxsize`

Data type: `Optional[Logrotate::Size]`

The String maximum size a log file may be to be rotated; When maxsize is
used, both the size and timestamp of a log file are considered for rotation.
The default units are bytes, append k, M or G for kilobytes, megabytes and
gigabytes respectively.

Default value: `undef`

##### <a name="-logrotate--rule--missingok"></a>`missingok`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should ignore missing log files or
issue an error.

Default value: `undef`

##### <a name="-logrotate--rule--olddir"></a>`olddir`

Data type: `Optional[Variant[Boolean,String]]`

A String path to a directory that rotated logs should be moved to.

Default value: `undef`

##### <a name="-logrotate--rule--postrotate"></a>`postrotate`

Data type: `Optional[Logrotate::Commands]`

A command String or an Array of Strings that should be executed by /bin/sh
after the log file is rotated optional).

Default value: `undef`

##### <a name="-logrotate--rule--prerotate"></a>`prerotate`

Data type: `Optional[Logrotate::Commands]`

A command String or an Array of Strings that should be executed by /bin/sh
before the log file is rotated and only if it will be rotated.

Default value: `undef`

##### <a name="-logrotate--rule--firstaction"></a>`firstaction`

Data type: `Optional[Logrotate::Commands]`

A command String or an Array of Strings that should be executed by /bin/sh
once before all log files that match the wildcard pattern are rotated.

Default value: `undef`

##### <a name="-logrotate--rule--lastaction"></a>`lastaction`

Data type: `Optional[Logrotate::Commands]`

A command String or an Array of Strings that should be executed by /bin/sh
once after all the log files that match the wildcard pattern are rotated.

Default value: `undef`

##### <a name="-logrotate--rule--rotate"></a>`rotate`

Data type: `Optional[Integer]`

The Integer number of rotated log files to keep on disk.

Default value: `undef`

##### <a name="-logrotate--rule--rotate_every"></a>`rotate_every`

Data type: `Optional[Logrotate::Every]`

How often the log files should be rotated as a String. Valid values are
'day', 'week', 'month' and 'year'.

Default value: `undef`

##### <a name="-logrotate--rule--size"></a>`size`

Data type: `Optional[Logrotate::Size]`

The String size a log file has to reach before it will be rotated. The
default units are bytes, append k, M or G for kilobytes, megabytes or
gigabytes respectively.

Default value: `undef`

##### <a name="-logrotate--rule--sharedscripts"></a>`sharedscripts`

Data type: `Optional[Boolean]`

A Boolean specifying whether logrotate should run the postrotate and
prerotate scripts for each matching file or just once.

Default value: `undef`

##### <a name="-logrotate--rule--shred"></a>`shred`

Data type: `Optional[Boolean]`

A Boolean specifying whether logs should be deleted with shred instead of
unlink.

Default value: `undef`

##### <a name="-logrotate--rule--shredcycles"></a>`shredcycles`

Data type: `Optional[Integer]`

The Integer number of times shred should overwrite log files before
unlinking them.

Default value: `undef`

##### <a name="-logrotate--rule--start"></a>`start`

Data type: `Optional[Integer]`

The Integer number to be used as the base for the extensions appended to the
rotated log files.

Default value: `undef`

##### <a name="-logrotate--rule--su"></a>`su`

Data type: `Boolean`

A Boolean specifying whether logrotate should rotate under the specific
su_user and su_group instead of the default. First available in logrotate
3.8.0.

Default value: `false`

##### <a name="-logrotate--rule--su_user"></a>`su_user`

Data type: `String`

A String username that logrotate should use to rotate a log file set instead
of using the default if su => true.

Default value: `'root'`

##### <a name="-logrotate--rule--su_group"></a>`su_group`

Data type: `String`

A String group name that logrotate should use to rotate a log file set
instead of using the default if su => true.

Default value: `'root'`

##### <a name="-logrotate--rule--uncompresscmd"></a>`uncompresscmd`

Data type: `Optional[String]`

The String command to be used to uncompress log files.

Default value: `undef`

##### <a name="-logrotate--rule--custom_cfg"></a>`custom_cfg`

Data type: `Array[String[1]]`

Array of custom lines to be appended to the rules.

Default value: `[]`

##### <a name="-logrotate--rule--createolddir"></a>`createolddir`

Data type: `Optional[Boolean]`



Default value: `undef`

##### <a name="-logrotate--rule--createolddir_mode"></a>`createolddir_mode`

Data type: `Optional[String]`



Default value: `undef`

##### <a name="-logrotate--rule--createolddir_owner"></a>`createolddir_owner`

Data type: `Optional[String]`



Default value: `undef`

##### <a name="-logrotate--rule--createolddir_group"></a>`createolddir_group`

Data type: `Optional[String]`



Default value: `undef`

## Data types

### <a name="Logrotate--Commands"></a>`Logrotate::Commands`

Data type for commands

Alias of `Variant[String, Array[String]]`

### <a name="Logrotate--Every"></a>`Logrotate::Every`

Valid configuration values for rotation (every hour/day/week/month etc.)

Alias of `Pattern['^hour(|ly)$', '^da(|il)y$', '^week(|ly)( [0-7])?$', '^month(|ly)$', '^year(|ly)$']`

### <a name="Logrotate--Path"></a>`Logrotate::Path`

File path valid in logrotate config files

Alias of `Variant[Stdlib::UnixPath, Array[Stdlib::UnixPath]]`

### <a name="Logrotate--Size"></a>`Logrotate::Size`

Filesize valid in logrotate config files

Alias of `Variant[Integer, Pattern[/^\d+[kMG]?$/]]`

